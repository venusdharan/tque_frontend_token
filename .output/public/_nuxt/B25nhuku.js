import{K as v,L as F,r as C,z as t,J as _,A as r,m as f,t as P,B as p,M as k,x as R}from"./DPDus2Qf.js";import{V as T}from"./CM6Gcv_b.js";import{V as B,a as S}from"./Ckmx4tYh.js";import{V as h,a as L,b as c,c as j}from"./VPDmYnJL.js";import{m as x,u as N}from"./CLGGIAXn.js";import{m as U,c as q,f as A,V}from"./XhXS6RbD.js";import{V as D}from"./BejPpa3U.js";import"./CvggJvAd.js";import"./DtxhDzDT.js";import"./DqD-7PI-.js";import"./DPKPTAGr.js";const M=v({...x(),...U()},"VForm"),z=F()({name:"VForm",props:M(),emits:{"update:modelValue":a=>!0,submit:a=>!0},setup(a,o){let{slots:e,emit:i}=o;const m=q(a),d=C();function b(l){l.preventDefault(),m.reset()}function w(l){const n=l,s=m.validate();n.then=s.then.bind(s),n.catch=s.catch.bind(s),n.finally=s.finally.bind(s),i("submit",n),n.defaultPrevented||s.then(g=>{var u;let{valid:y}=g;y&&((u=d.value)==null||u.submit())}),n.preventDefault()}return N(()=>{var l;return t("form",{ref:d,class:["v-form",a.class],style:a.style,novalidate:!0,onReset:b,onSubmit:w},[(l=e.default)==null?void 0:l.call(e,m)])}),A(m,d)}}),E={data(){return{email:"",password:""}},methods:{async login_fn(){try{console.log(token);const a=new URLSearchParams(window.location.search);console.log(a);const o=a.get("redirect");o?await f(o):await f("/")}catch{console.error("Failed to login:",error)}}}},$=Object.assign(E,{__name:"login",setup(a){return(o,e)=>(P(),_(T,null,{default:r(()=>[t(S,{justify:"center"},{default:r(()=>[t(B,{cols:"12",sm:"8",md:"6"},{default:r(()=>[t(h,{class:"pa-4"},{default:r(()=>[t(L,{class:"text-h5 justify-center"},{default:r(()=>e[2]||(e[2]=[p("TQue Login")])),_:1}),t(c,null,{default:r(()=>[t(z,{onSubmit:k(o.login_fn,["prevent"])},{default:r(()=>[t(V,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=i=>o.email=i),label:"Email",type:"email",required:""},null,8,["modelValue"]),t(V,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=i=>o.password=i),label:"Password",type:"password",required:""},null,8,["modelValue"]),t(D,{type:"submit",block:"",color:"primary"},{default:r(()=>e[3]||(e[3]=[p("Login")])),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(j,null,{default:r(()=>[t(c,null,{default:r(()=>e[4]||(e[4]=[R("a",{href:"./login"},"Forgot Password?",-1)])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{$ as default};
